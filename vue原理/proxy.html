<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body></body>
</html>
<script>
    let product = {
        price: 10,
        quantity: 2,
    };

    const proxyProduct = new Proxy(product, {
        set(target, key, newVal, receiver) {
            console.log(target, key, newVal, receiver);
            console.log('setter');
            target[key] = newVal;
            effect();
        },
        get(target, key, receiver) {
            console.log(target, key, receiver);
            console.log('getter');
            return target[key];
        },
    });

    let total = 0;
    let effect = () => {
        total = product.price * product.quantity;
    };

    effect();

    console.log(total);
</script>
